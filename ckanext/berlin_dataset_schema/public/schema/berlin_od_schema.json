{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Berlin Open Data Schema",
  "description": "Schema to describe and validate dataset descriptions for the <a href='https://daten.berlin.de'>Berlin Open Data Portal</a>.",
  "type": "object",
  "required": [ 
    "title",
    "name",
    "berlin_type",
    "berlin_source",
    "author",
    "maintainer_email",
    "notes",
    "license_id",
    "groups",
    "date_released"
  ],
  "properties": {
    "title": {
      "description": "Titel: Der Titel beschreibt den Datensatz, das Dokument oder die App prägnant und wird z. B. in Suchergebnissen und Listen angezeigt.",
      "type": "string"
    }, 
    "name": {
      "description": "Name: Ein für Menschen lesbarer Bezeichner des Datensatzes, des Dokuments oder der Apps, der für eine Identifizierung genutzt werden kann (einfache ASCII-Präsentation des Titels, auch für die Pretty-Link-URL, Linked Data URIs)",
      "pattern": "^[a-z0-9_-]{2,}$", 
      "type": "string"
    }, 
    "berlin_type": {
      "description": "Typ: Zeigt an, ob ein Datensatz, ein Dokument, eine App beschrieben wird. Entscheidet darüber, in welchem Bereich diese Metadaten angezeigt werden.", 
      "type": "string", 
      "enum": ["datensatz", "dokument", "app"] ,
      "validator": "is_berlin_type"
    },
    "berlin_source": {
      "description": "Intern genutztes Merkmal, das die Eingabeart des Datensatzes unterscheidet. Werte können etwa 'api-xyz' (über die CKAN API ins Datenregister gepusht), 'harvest-xyz' (über einen Harvester vom Datenregister gepullt), 'simplesearch' (über das Imperia CMS erzeugt) oder 'webform' (direkt im Datenregister über das Webformular erzeugt) sein.",
      "type": "string"
    },
    "author": {
      "description": "Veröffentlichende Stelle: Die Behörde, von der die Daten stammen. Bei Apps der App-Hersteller.",
      "type": "string"
    }, 
    "author_email": {
      "description": "Veröffentlichende Stelle Email: Email-Adresse oder Kontaktformular der Veröffentlichenden Stelle.",
      "format": "uri",
      "type": "string"
    }, 
    "maintainer": {
      "description": "Datenverantwortliche Stelle: Dieser Ansprechpartner kann bei Fragen und Anmerkungen zu den Daten kontaktiert werden.",
      "type": "string"
    }, 
    "maintainer_email": {
      "description": "Datenverantwortliche Stelle Email: Email-Adresse oder Kontaktformular der Datenverantwortlichen Stelle.",
      "format": "uri",
      "type": "string"
    }, 
    "url": {
      "description": "Website: Die ursprüngliche Webadresse des Datensatzes, Dokuments oder der App, um zu weiteren Informationen über den Datensatz, das Dokument oder die App zu gelangen. Wird auf der Detailseite als Link angezeigt.", 
      "type": "string", 
      "format": "uri",
      "validator": "is_valid_url"
    }, 
    "notes": {
      "description": "Beschreibung: Beschreibung und weitere Informationen zum Datensatz, zum Dokument oder zur App, wird auf der Detailseite dargestellt und kann mehrere Absätze umfassen.",
      "type": "string"
    },
    "license_id": {
      "enum": [
        "cc-by",
        "cc-by/4.0",
        "cc-zero",
        "cc-by-sa",
        "cc-nc",
        "dl-de-zero-2.0",
        "dl-de-by-2.0",
        "odc-odbl",
        "other-closed"
      ],
      "labels": [
        "Creative Commons Attribution" ,
        "Creative Commons Attribution 4.0" ,
        "Creative Commons Zero" ,
        "Creative Commons Attribution Share-Alike" ,
        "Creative Commons Non-Commercial (Any)" ,
        "Datenlizenz Deutschland – Zero – Version 2.0" ,
        "Datenlizenz Deutschland – Namensnennung – Version 2.0" ,
        "Open Data Commons Open Database License" ,
        "Siehe Website des Datensatzes"
      ],
      "type": "string", 
      "description": "Lizenz-ID: Lizenz aus einer festen Liste, s.u. bzw. <a href='http://datenregister.berlin.de/licenses/berlin-od-portal.json'>http://datenregister.berlin.de/licenses/berlin-od-portal.json</a>",
      "validator": "is_license_id"
    },
    "attribution_text": {
      "description": "Der exakte Text, der im Rahmen der Namensnennung anzugeben ist." ,
      "type": "string"
    },
    "username": {
      "description": "Veröffentlichende Person: Person, die lediglich für Veröffentlichung zuständig ist.",
      "type": "string"
    },
    "date_released": {
      "description": "Veröffentlichungsdatum: Wann wurden dieser Datensatz erstmalig angelegt/erzeugt? Wichtig: dies beschreibt nicht zwingend den Zeitpunkt, an dem der Datensatz in das Datenregister eingepflegt wurde, sondern kann auch davor liegen.",
      "type": "string", 
      "format": "date-time",
      "validator": "isodate_notime"
    },
    "date_updated": {
      "description": "Änderungsgsdatum: Wann wurden dieser Datensatz geändert? Wichtig: dies beschreibt nicht zwingend den Zeitpunkt, an dem die geänderten Daten in das Datenregister eingepflegt wurde, sondern kann auch davor liegen.",
      "type": "string", 
      "format": "date-time",
      "validator": "isodate_notime"
    },
    "geographical_granularity": {
      "description": "Räumliche Auflösung: Die geographische Granularität des Datensatzes, eines Dokuments, einer App. Wird später zum Filtern verwendet.", 
      "enum": [
        "Keine",
        "Deutschland",
        "Berlin",
        "Bezirk",
        "Ortsteil",
        "Prognoseraum",
        "Bezirksregion",
        "Planungsraum",
        "Block",
        "Einschulbereich",
        "Kontaktbereich",
        "PLZ",
        "Stimmbezirk",
        "Quartiersmanagement",
        "Wohnanlage",
        "Wahlkreis",
        "Hausnummer",
        "GPS-Koordinaten"
      ],
      "type": "string",
      "validator": "is_geo_granularity"
    },
    "geographical_coverage": {
      "description": "Räumliche Abdeckung: der geographische Bereich, der von dem Datensatz, dem Dokument oder der App abgedeckt wird. Wird zum Filtern verwendet.",
      "enum": [
        "Keine",
        "Adlershof",
        "Alt-Hohenschönhausen",
        "Alt-Treptow",
        "Altglienicke",
        "Baumschulenweg",
        "Berlin",
        "Biesdorf",
        "Blankenburg",
        "Blankenfelde",
        "Bohnsdorf",
        "Britz",
        "Buch",
        "Buckow",
        "Charlottenburg",
        "Charlottenburg-Nord",
        "Charlottenburg-Wilmersdorf",
        "Dahlem",
        "Deutschland",
        "Friedenau",
        "Friedrichsfelde",
        "Friedrichshagen",
        "Friedrichshain",
        "Friedrichshain-Kreuzberg",
        "Frohnau",
        "Gatow",
        "Gesundbrunnen",
        "Gropiusstadt",
        "Grunewald",
        "Grünau",
        "Hakenfelde",
        "Halensee",
        "Hansaviertel",
        "Haselhorst",
        "Heiligensee",
        "Heinersdorf",
        "Hellersdorf",
        "Hermsdorf",
        "Hohenschönhausen",
        "Johannisthal",
        "Karlshorst",
        "Karow",
        "Kaulsdorf",
        "Kladow",
        "Lichtenberg",
        "Lichtenrade",
        "Lichterfelde",
        "Lübars",
        "Mahlsdorf",
        "Malchow",
        "Mariendorf",
        "Marienfelde",
        "Marzahn",
        "Marzahn-Hellersdorf",
        "Mitte",
        "Moabit",
        "Märkisches Viertel",
        "Müggelheim",
        "Neu-Hohenschönhausen",
        "Neukölln",
        "Niederschöneweide",
        "Niederschönhausen",
        "Nikolassee",
        "Oberschöneweide",
        "Pankow ",
        "Pankow",
        "Plänterwald",
        "Prenzlauer Berg",
        "Rahnsdorf",
        "Reinickendorf",
        "Schmöckwitz",
        "Schöneberg",
        "Siemensstadt",
        "Spandau",
        "Staaken",
        "Stadtrandsiedlung Malchow",
        "Steglitz",
        "Steglitz-Zehlendorf",
        "Tegel",
        "Tempelhof",
        "Tempelhof-Schöneberg",
        "Tiergarten",
        "Treptow-Köpenick",
        "Waidmannslust",
        "Wannsee",
        "Wartenberg",
        "Wedding",
        "Weißensee",
        "Westend",
        "Wilhelmsruh",
        "Wilhelmstadt",
        "Wilmersdorf",
        "Wittenau",
        "Zehlendorf"
      ],
      "type": "string",
      "validator": "is_geo_feature"
    },
    "temporal_coverage_from": {
      "description": "Start-Datum: Der Zeitpunkt, von dem an der Datensatz, das Dokument oder die App einschließlich Daten enthält. Wird insb. zum Filtern verwendet.", 
      "type": "string", 
      "format": "date-time",
      "validator": "isodate_notime"
    }, 
    "temporal_coverage_to": {
      "description": "End-Datum: Der Zeitpunkt, bis zu dem der Datensatz, das Dokument oder die App einschließlich Daten enthält. Wird insb. zum Filtern verwendet.", 
      "type": "string", 
      "format": "date-time",
      "validator": "isodate_notime"
    }, 
    "temporal_granularity": {
      "description": "Zeitliche Auflösung: Die zeitliche Auflösung der enthaltenen Daten, des Dokuments oder der App. Wird später zum Filtern verwendet.", 
      "type": "string", 
      "enum": [
        "Keine",
        "5 Jahre",
        "Jahr",
        "Quartal",
        "Monat",
        "Woche",
        "Tag",
        "Stunde",
        "Minute",
        "Sekunde"
      ],
      "validator": "is_temporal_granularity"
    },
    "groups": {
      "description": "Kategorien: Kategorien für die Datensätze und Dokumente. Die Kategorien sind statisch und werden vom Portalbetreiber langfristig gepflegt.",
      "type": "array",
      "items": {
        "type": "object",
        "required": [ "name" ],
        "properties": {
          "name": {
            "enum": [
              "arbeit", 
              "bildung", 
              "demographie", 
              "erholung", 
              "gesundheit", 
              "jugend", 
              "justiz", 
              "kultur", 
              "oeffentlich", 
              "sicherheit", 
              "sozial", 
              "tourismus" ,
              "transport", 
              "umwelt", 
              "verbraucher", 
              "verentsorgung", 
              "verkehr", 
              "verwaltung", 
              "wahl", 
              "wirtschaft", 
              "wohnen"
            ], 
            "labels": [
              "Arbeitsmarkt" ,
              "Bildung" ,
              "Demographie" ,
              "Erhohlung" ,
              "Gesundheit" ,
              "Jugend" ,
              "Justiz" ,
              "Kunst und Kultur" ,
              "Öffentliche Verwaltung, Haushalt und Steuern" ,
              "Sicherheit" ,
              "Sozialleistungen" ,
              "Tourismus" ,
              "Transport" ,
              "Umwelt und Klima" ,
              "Verbraucherschutz" ,
              "Ver- und Entsorgung" ,
              "Verkehr" ,
              "Verwaltung" ,
              "Wahlen" ,
              "Wirtschaft" ,
              "Wohnen und Immobilien"
            ] ,
            "type": "string"
          }
        }
      }
    },
    "tags": {
      "description": "Schlagwörter: Freie Schlüsselwörter des Datensatzes, des Dokuments oder der App",
      "type": "array",
      "items": {
        "type": "object",
        "required": [ "name" ],
        "properties": {
          "name": {
            "type": "string"
          }
        }
      }
    },
    "resources": {
      "description": "Ressourcen: Folgende Felder können für jede Ressource individuell angegeben werden.",
      "type": "array", 
      "items": {
        "type": "object",
        "required": [
          "url",
          "format"
        ],
        "properties": {
          "url": {
            "description": "URL: Verweis auf die eigentliche Datendatei, das Dokument oder die Anwendung.", 
            "type": "string", 
            "format": "uri"
          },
          "format": {
            "description": "Format: Typ der Ressource (MIME Types)",
            "type": "string"
          },
          "description": {
            "description": "Beschreibung: Erläuterung, welche Rolle die Ressource für den Datensatz, das Dokument bzw. die App spielt (z. B. ob es sich dabei um eine bestimmte Zeitscheibe oder Schlüsselliste handelt. Der Beschreibungstext, wird mit dem Link zur Ressource unterlegt.)",
            "type": "string"
          }, 
          "language": {
            "description": "Sprache: Sprache als ISO 639-1-Code, in der die Ressource verfasst ist.",
            "pattern": "^[a-z]{2}$", 
            "type": "string"
          }, 
          "hash": {
            "description": "Prüfsumme: Bei statischen Dateien die SHA2-Prüfsumme bzw. bei dynamischen Daten ein Zertifikat zur Überprüfung der Integrität.",
            "type": "string"
          } 
        }
      }
    }
  }
}